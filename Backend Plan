Backend Plan âš™ï¸ (FastAPI)
Overview ğŸŒ
The backend will handle user authentication, report storage, AI agent integrations, and provide RESTful APIs to the frontend. It will use FastAPI for creating the server and MongoDB for storing user and report data.

Tech Stack ğŸ› ï¸
Backend Framework: FastAPI ğŸš€

Database: MongoDB ğŸ—„ï¸

Cloud Storage: Firebase Storage (for storing reports and images) â˜ï¸

Authentication: Firebase Authentication ğŸ”

API Communication: RESTful API ğŸŒ

Middleware: Custom error handling and authentication middleware âš™ï¸

Folder Breakdown ğŸ“‚

backend/
â”œâ”€â”€ controllers/                   # Handles business logic for routes
â”‚   â”œâ”€â”€ auth_controller.py         # ğŸ” Handles user authentication (login, register).
â”‚   â”œâ”€â”€ report_controller.py       # ğŸ“„ Manages report uploads, storage, and metadata.
â”‚   â””â”€â”€ user_controller.py         # ğŸ‘¤ Handles user profile and data management.
â”œâ”€â”€ models/                        # MongoDB models
â”‚   â”œâ”€â”€ user.py                    # ğŸ‘¤ MongoDB model for user data.
â”‚   â”œâ”€â”€ report.py                  # ğŸ“„ MongoDB model for report metadata (name, type, date).
â”‚   â””â”€â”€ progress_data.py           # ğŸ“Š MongoDB model for storing cancer progression data (scores, metrics).
â”œâ”€â”€ routes/                        # API routes
â”‚   â”œâ”€â”€ auth_routes.py             # ğŸ” API routes for authentication-related tasks.
â”‚   â”œâ”€â”€ report_routes.py           # ğŸ“„ API routes for handling report uploads, analysis, and retrieval.
â”‚   â””â”€â”€ user_routes.py             # ğŸ‘¤ API routes for user data.
â”œâ”€â”€ services/                      # Business logic and external integrations
â”‚   â”œâ”€â”€ mongo_service.py           # ğŸ—„ï¸ Service for handling MongoDB operations.
â”‚   â””â”€â”€ ai_service.py              # ğŸ¤– Service for handling communication with AI agents.
â”œâ”€â”€ utils/                         # Utility functions and middleware
â”‚   â”œâ”€â”€ auth_middleware.py         # ğŸ” Middleware to verify authentication tokens.
â”‚   â””â”€â”€ error_handler.py           # âŒ Global error handler.
â”œâ”€â”€ main.py                        # âš™ï¸ FastAPI main app configuration.
â”œâ”€â”€ server.py                      # ğŸš€ Server initialization and startup.
â””â”€â”€ requirements.txt               # ğŸ“¦ Dependencies for the FastAPI backend.
API Endpoints ğŸŒ
POST /login: Authenticate users and provide tokens. ğŸ”

POST /uploadReport: Handle the upload of medical reports and store them in Firebase Storage. Metadata is saved in MongoDB. ğŸ“¤

GET /reports/{userId}: Retrieve a list of reports for a user, along with their metadata and analysis. ğŸ“„

POST /query: Handle user queries, passing them to the AI backend and returning responses. ğŸ¤–

GET /progress/{userId}: Fetch the userâ€™s progress data based on historical reports and cancer progression metrics. ğŸ“Š

Services âš™ï¸
mongo_service.py: Contains utility functions to interact with MongoDB for storing and retrieving user data, reports, and progress. ğŸ—„ï¸

ai_service.py: Integrates with the AI agents (for text analysis, image processing, etc.). This service calls the AI microservices hosted in the ai-agents folder. ğŸ¤–
